<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Crop Yield Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

</head>

<body>

    <div class="form-header">

        <div class="header-images">
        <img src="{{ url_for('static', filename='images/Agricultural_field.jpeg') }}">
        <img src="{{ url_for('static', filename='images/Maize1.jpeg') }}" alt="Maize">
        <img src="{{ url_for('static', filename='images/beans.jpeg') }}" alt="Beans">
        <img src="{{ url_for('static', filename='images/Wheat1.jpeg') }}" alt="Wheat">
        <img src="{{ url_for('static', filename='images/Cotton.jpeg') }}" alt="Cotton">
        </div>

        <h2>CROP YIELD PREDICTOR</h2>
        <p> Smart farming insights powered by data </p>
    </div>

    <div class="form-page">
        <div class="form-card">
            <h3>Enter Farm Data</h3>
            <form method="POST" action="/predict_form">
                <label>Rainfall (mm):</label>
                <input type="number" step="0.1" name="Rainfall_mm" required>

                <label>Temperature (¬∞C):</label>
                <input type="number" step="0.1" name="Temperature_Celsius" required>

                <label>Days to Harvest:</label>
                <input type="number" name="Days_to_Harvest" required>

                <label>Fertilizer Used:</label>
                <select name="Fertilizer_Used">
                    <option value="1"> Yes</option>
                    <option value="0"> No</option>
                </select>

                <label>Irrigation Used:</label>
                <select name="Irrigation_Used">
                    <option value="1"> Yes</option>
                    <option value="0"> No</option>
                </select>

                <label>Crop Type:</label>
                <select name="Crop">
                    <option value="Maize">üåΩ Maize</option>
                    <option value="Wheat">üåæ Wheat</option>
                    <option value="Rice">üçö Rice</option>
                    <option value="Soybean">ü´ò Soybean</option>
                    <option value="Cotton">üåø Cotton</option>
                </select>

                <label>Region:</label>
                <select name="Region" required>
                    <option value="North">North</option>
                    <option value="South">South</option>
                    <option value="West">West</option>
                </select>

                <label>Soil Type:</label>
                <select name="Soil" required>
                    <option value="Clay">Clay</option>
                    <option value="Loam">Loam</option>
                    <option value="Peaty">Peaty</option>
                    <option value="Sandy">Sandy</option>
                    <option value="Silt">Silt</option>
                </select>

                <label>Weather Condition:</label>
                <select name="Weather">
                    <option value="Sunny">‚òÄÔ∏è Sunny</option>
                    <option value="Rainy">üåßÔ∏è Rainy</option>
                </select>

                <button type="submit">Predict Yield</button>
            </form>
        </div>    

    </div>

    {% if prediction %}

    <div id="prediction">

        <div class="prediction-card-wrapper">
            <div class="prediction-card" style="margin-top: 30px;">
                <h3>Latest Prediction</h3>
                <p class="latest-prediction">üåæ Predicted Yield: <strong>{{ prediction }} tons/hectare</strong></p>

                <div class="yield-info">
                    <h4>{{ yield_info.level }}</h4>
                    <p>{{ yield_info.message }}</p>
                    <p><em>Tip: {{ yield_info.tip }}</em></p>
                </div>

                <a href="{{ url_for('visualize') }}">
                    <button style="width: 60%; margin: 20px auto 0; display: block; font-size: 18px;">üìä Visualize Predictions</button>
                </a>
            </div>

        </div>  
        
    </div> 
    {% endif %}

    {% if error %}
        <p class="error" style="margin-top:20px;">‚ö†Ô∏è {{ error }}</p>
    {% endif %}


    {% if prediction %}
    <script>
        window.onload = function () {
            const results = document.getElementById("results");
            if (results) {
                results.scrollIntoView({
                    behavior: "smooth",
                    block: "start"
                });
            }
        };
    </script>
    {% endif %}

</body>
</html>
